CREATE TABLE PRODUCTO(
ID INTEGER NOT NULL PRIMARY KEY,
NOMBRE VARCHAR(100) NOT NULL,
CODIGO VARCHAR(50) NULL,
FLG_ELIMINADO NUMBER(1) NOT NULL,
ID_USUARIO_CREA INTEGER NOT NULL,
FEC_USUARIO_CREA DATE NOT NULL,
ID_USUARIO_MOD INTEGER NOT NULL,
FEC_USUARIO_MOD DATE NOT NULL
);

CREATE SEQUENCE SEQ_PRODUCTO
  MINVALUE 1
  MAXVALUE 999999999999999999999999999
  START WITH 1
  INCREMENT BY 1
  CACHE 20;

CREATE TABLE PRECIO_PRODUCTO(
ID INTEGER NOT NULL PRIMARY KEY,
ID_PRODUCTO INTEGER NOT NULL,
PRECIO NUMBER(8,2) NOT NULL,
FLG_ACTUAL NUMBER(1) NOT NULL,
FLG_ELIMINADO NUMBER(1) NOT NULL,
ID_USUARIO_CREA INTEGER NOT NULL,
FEC_USUARIO_CREA DATE NOT NULL,
ID_USUARIO_MOD INTEGER NOT NULL,
FEC_USUARIO_MOD DATE NOT NULL,
FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID)
);

CREATE SEQUENCE SEQ_PRECIO_PRODUCTO
  MINVALUE 1
  MAXVALUE 999999999999999999999999999
  START WITH 1
  INCREMENT BY 1
  CACHE 20;

CREATE TABLE VENTA(
ID INTEGER NOT NULL PRIMARY KEY,
SERIE VARCHAR(10) NOT NULL,
NUMERO VARCHAR(10) NOT NULL,
TOTAL NUMBER(8,2) NOT NULL,
FLG_ELIMINADO NUMBER(1) NOT NULL,
ID_USUARIO_CREA INTEGER NOT NULL,
FEC_USUARIO_CREA DATE NOT NULL,
ID_USUARIO_MOD INTEGER NOT NULL,
FEC_USUARIO_MOD DATE NOT NULL
);

CREATE SEQUENCE SEQ_VENTA
  MINVALUE 1
  MAXVALUE 999999999999999999999999999
  START WITH 1
  INCREMENT BY 1
  CACHE 20;

CREATE TABLE DETALLE_VENTA(
ID INTEGER NOT NULL PRIMARY KEY,
ID_PRODUCTO INTEGER NOT NULL,
ID_VENTA INTEGER NOT NULL,
CANTIDAD NUMBER(6,1) NOT NULL,
PRECIO NUMBER(8,2) NOT NULL,
SUBTOTAL NUMBER(8,2) NOT NULL,
FLG_ELIMINADO NUMBER(1) NOT NULL,
ID_USUARIO_CREA INTEGER NOT NULL,
FEC_USUARIO_CREA DATE NOT NULL,
ID_USUARIO_MOD INTEGER NOT NULL,
FEC_USUARIO_MOD DATE NOT NULL,
FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID),
FOREIGN KEY (ID_VENTA) REFERENCES VENTA(ID)
);

CREATE SEQUENCE SEQ_DETALLE_VENTA
  MINVALUE 1
  MAXVALUE 999999999999999999999999999
  START WITH 1
  INCREMENT BY 1
  CACHE 20;